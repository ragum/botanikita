{% extends "base.twig" %}

{% block content %}
{# <h1 class="text-red-600">TEMPLATE: taxonomy-jenis_tanaman.twig</h1> #}
<section class="bg-green-50 py-16">
	<div class="max-w-6xl mx-auto px-4 text-center mb-10">
		<h1 class="text-3xl font-bold text-green-800">
			Jenis Tanaman: {{ term.name }}
		</h1>
		{% if term.description %}
			<p class="text-zinc-600 mt-2">{{ term.description }}</p>
		{% endif %}
	</div>

	<div class="grid gap-6 md:grid-cols-3 px-4 max-w-6xl mx-auto">
		{% for post in posts %}
			<div class="bg-white rounded-lg shadow p-4 hover:shadow-lg transition">
				{% if post.thumbnail %}
					<img src="{{ post.thumbnail.src('medium') }}" alt="{{ post.title }}" class="rounded w-full h-48 object-cover mb-4">
				{% endif %}
				<h3 class="text-lg font-semibold text-green-800">{{ post.title }}</h3>
				<p class="text-sm text-zinc-600 mt-1">
					{{ post.meta('deskripsi')|length > 100 ? post.meta('deskripsi')[:100] ~ '…' : post.meta('deskripsi') }}
				</p>
				{% set terms = post.terms('jenis_tanaman') %}
				{% if terms %}
					<p class="text-xs text-zinc-500 mt-1 italic">
						{% for term in terms %}
							<a href="{{ term.link }}" class="hover:underline hover:text-green-600">
								{{ term.name }}
							</a>{% if not loop.last %}, {% endif %}
						{% endfor %}
					</p>
				{% endif %}
				<a href="{{ post.link }}" class="inline-block mt-2 text-green-600 hover:underline text-sm">Lihat Detail →</a>
			</div>
		{% endfor %}
	</div>

	{% if posts.pagination.pages|length > 1 %}
		{% include 'partial/pagination.twig' with { pagination: posts.pagination({show_all: false}) } %}
	{% endif %}
</section>
<script>
 	sessionStorage.setItem('tanaman_referrer', window.location.href);
</script>

{% endblock %}
